---
layout: default
title: 게시판
permalink: /blog/
---

<section class="container py-5">
  <h2 class="text-center mb-4">📌 게시판</h2>

  <form class="mb-4" method="GET" action="/blog/">
    <input type="text" name="q" placeholder="검색어를 입력하세요" class="form-control mb-2" value="{{ page.q }}">
    <button type="submit" class="btn btn-primary">검색</button>
  </form>

  <div class="mb-4">
    <strong>카테고리:</strong>
    {% assign all_categories = site.posts | map: 'categories' | join: ',' | split: ',' | uniq %}
    {% for cat in all_categories %}
      <a href="/blog/?category={{ cat | uri_escape }}" class="badge bg-secondary text-white me-1">{{ cat }}</a>
    {% endfor %}
  </div>

  <div class="row">
    {% assign search_query = page.q | default: '' %}
    {% assign selected_category = page.category | default: '' %}
    {% for post in site.posts %}
      {% assign match_title = post.title contains search_query %}
      {% assign match_body = post.content contains search_query %}
      {% assign in_category = selected_category == '' or post.categories contains selected_category %}
      {% if (search_query == '' or match_title or match_body) and in_category %}
      <div class="col-md-6 mb-4">
        <div class="card h-100 shadow-sm">
          <div class="card-body">
            <h5 class="card-title">
              <a href="{{ post.url | relative_url }}">{{ post.title }}</a>
            </h5>
            <p class="card-text">
              {{ post.excerpt | strip_html | truncate: 100 }}
            </p>
            <a href="{{ post.url | relative_url }}" class="btn btn-outline-primary btn-sm">자세히 보기</a>
          </div>
          <div class="card-footer d-flex justify-content-between small text-muted">
            <span>{{ post.date | date: "%Y-%m-%d" }}</span>
            <span>
              {% for tag in post.tags %}
                <span class="badge bg-light text-dark border">#{{ tag }}</span>
              {% endfor %}
            </span>
          </div>
        </div>
      </div>
      {% endif %}
    {% endfor %}
  </div>
</section>
